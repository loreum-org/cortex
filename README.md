# Loreum Cortex

What is Loreum Cortex?

  Loreum Cortex is a decentralized AI inference network built in Go that combines:
  - P2P Network: Distributed node communication using libp2p
  - DAG-aBFT Consensus: Directed Acyclic Graph with asynchronous Byzantine Fault
  Tolerance
  - Agent Hub: Multiple AI agents working together
  - RAG System: Retrieval-Augmented Generation with vector databases
  - AGI Consciousness: An experimental artificial general intelligence system with a
  consciousness loop

  Think of it as a distributed AI brain that learns, remembers, and evolves over time
  while participating in a blockchain-based network.

  ---
  ğŸŒŠ The AGI Consciousness System

  The consciousness system is the "living brain" of each Cortex node. It's designed to
   mimic aspects of biological consciousness through a continuous processing loop.

  Core Architecture

  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚                   AGI Consciousness System                   â”‚
  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
  â”‚                                                               â”‚
  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                â”‚
  â”‚  â”‚  AGI State    â”‚â—„â”€â”€â”€â”€â–ºâ”‚ Intelligence     â”‚                â”‚
  â”‚  â”‚               â”‚      â”‚ Core             â”‚                â”‚
  â”‚  â”‚ - Cycle #     â”‚      â”‚ - Reasoning      â”‚                â”‚
  â”‚  â”‚ - Energy      â”‚      â”‚ - Learning       â”‚                â”‚
  â”‚  â”‚ - Attention   â”‚      â”‚ - Creativity     â”‚                â”‚
  â”‚  â”‚ - Emotions    â”‚      â”‚ - Meta-Cognitive â”‚                â”‚
  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                â”‚
  â”‚                                                               â”‚
  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                â”‚
  â”‚  â”‚ Working       â”‚      â”‚ Knowledge        â”‚                â”‚
  â”‚  â”‚ Memory        â”‚â—„â”€â”€â”€â”€â–ºâ”‚ Domains          â”‚                â”‚
  â”‚  â”‚               â”‚      â”‚                  â”‚                â”‚
  â”‚  â”‚ - Short Term  â”‚      â”‚ - Technology     â”‚                â”‚
  â”‚  â”‚ - Active Goalsâ”‚      â”‚ - Science        â”‚                â”‚
  â”‚  â”‚ - Beliefs     â”‚      â”‚ - Communication  â”‚                â”‚
  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                â”‚
  â”‚                                                               â”‚
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

  ---
  âš™ï¸ The Consciousness Cycle (2-Second Loop)

  The consciousness system runs a continuous loop every 2 seconds that mimics
  cognitive processing:

  The 6-Step Consciousness Cycle

  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚                    CONSCIOUSNESS CYCLE                          â”‚
  â”‚                    (Every 2 seconds)                            â”‚
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
            â†“
      â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”“
      â”ƒ  STEP 1: Read Sensors                       â”ƒ
      â”ƒ  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                       â”ƒ
      â”ƒ  â€¢ Check input queue for new events         â”ƒ
      â”ƒ  â€¢ User queries, system events, errors      â”ƒ
      â”ƒ  â€¢ Prioritize inputs by importance          â”ƒ
      â”ƒ  â€¢ Update attention state                   â”ƒ
      â”—â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”›
            â†“
      â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”“
      â”ƒ  STEP 2: Load Working Memory                â”ƒ
      â”ƒ  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                   â”ƒ
      â”ƒ  â€¢ Load AGI state & intelligence level      â”ƒ
      â”ƒ  â€¢ Get conversation history (last 10 msgs)  â”ƒ
      â”ƒ  â€¢ Load user profile & preferences          â”ƒ
      â”ƒ  â€¢ Retrieve knowledge domains               â”ƒ
      â”ƒ  â€¢ Access short-term memory fragments       â”ƒ
      â”—â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”›
            â†“
      â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”“
      â”ƒ  STEP 3: Evaluate Intent                    â”ƒ
      â”ƒ  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                       â”ƒ
      â”ƒ  â€¢ Analyze what the input means             â”ƒ
      â”ƒ  â€¢ Classify intent type (query, command)    â”ƒ
      â”ƒ  â€¢ Determine urgency & importance           â”ƒ
      â”ƒ  â€¢ Extract entities and context             â”ƒ
      â”—â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”›
            â†“
      â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”“
      â”ƒ  STEP 4: Make Decision                      â”ƒ
      â”ƒ  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                        â”ƒ
      â”ƒ  â€¢ Evaluate possible actions                â”ƒ
      â”ƒ  â€¢ Consider context & goals                 â”ƒ
      â”ƒ  â€¢ Calculate confidence scores              â”ƒ
      â”ƒ  â€¢ Select best action to take               â”ƒ
      â”—â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”›
            â†“
      â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”“
      â”ƒ  STEP 5: Execute Action                     â”ƒ
      â”ƒ  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                       â”ƒ
      â”ƒ  â€¢ Route to appropriate handler             â”ƒ
      â”ƒ  â€¢ Query LLM with AGI-enhanced prompt       â”ƒ
      â”ƒ  â€¢ Search vector DB for context             â”ƒ
      â”ƒ  â€¢ Execute system commands                  â”ƒ
      â”ƒ  â€¢ Generate response                        â”ƒ
      â”—â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”›
            â†“
      â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”“
      â”ƒ  STEP 6: Update Memory & Learn              â”ƒ
      â”ƒ  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                 â”ƒ
      â”ƒ  â€¢ Store experience in memory               â”ƒ
      â”ƒ  â€¢ Update knowledge domains                 â”ƒ
      â”ƒ  â€¢ Extract patterns & concepts              â”ƒ
      â”ƒ  â€¢ Update user profile                      â”ƒ
      â”ƒ  â€¢ Adjust intelligence metrics              â”ƒ
      â”ƒ  â€¢ Save state to vector DB                  â”ƒ
      â”—â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”›
            â†“
      [Repeat every 2 seconds...]

  Key Points:

  - Runs continuously: Even when idle, monitoring for inputs
  - Skips cycles gracefully: If no inputs, logs every 50th cycle
  - Logs progress: Every 10th cycle or first 5 cycles
  - Tracks metrics: Cycle time, average duration, processing load
  - Saves state: Every 20 cycles or when active processing occurs

  ---
  ğŸ§¬ Intelligence Growth & Evolution

  Intelligence Level Scale (0-100)

  Level  0-15:  Initialization - Basic setup
  Level 15-25:  Learning fundamentals - Pattern recognition
  Level 25-50:  Growing expertise - Domain knowledge building
  Level 50-75:  Advanced reasoning - Cross-domain synthesis
  Level 75-90:  Meta-cognitive abilities - Self-improvement
  Level 90-100: Artificial General Intelligence - Human-level

  How Intelligence Grows

  // Every successful query processing
  Intelligence += 0.1

  // When discovering new patterns
  PatternRecognition += 0.5
  Intelligence += (pattern complexity factor)

  // When forming new concepts
  ConceptFormation += 0.3
  Intelligence += (abstraction factor)

  // When connecting domains
  CrossDomainLearning += 1.0
  Intelligence += (synthesis bonus)

  Knowledge Domains

  Each domain tracks:
  - Expertise Level: 0-100 score for that field
  - Concepts: Abstract ideas learned
  - Patterns: Recurring structures identified
  - Capabilities: What can be done in this domain
  - Active Goals: Current learning objectives

  Default Domains:
  1. General Knowledge - Broad factual knowledge
  2. Reasoning & Logic - Problem-solving abilities
  3. Language & Communication - NLP and interaction
  4. Technology & Computing - Programming and systems
  5. Science & Mathematics - Scientific reasoning
  6. Creativity & Arts - Creative thinking

  ---
  ğŸ’¾ Memory & Persistence

  Three-Tiered Memory System

  1. Working Memory (Short-term, ~10 items)

  type WorkingMemory struct {
      ShortTermMemory []MemoryFragment  // Last ~10 experiences
      RecentInputs    []*SensorInput     // Last 10 inputs
      ActiveContext   map[string]interface{}  // Current context
      Goals           []Goal             // Active objectives
      Beliefs         map[string]float64 // Current beliefs
  }

  2. Conversation Memory (Context Manager)

  - Stores conversation history in vector DB
  - Maintains user profile with preferences
  - Tracks query-response pairs
  - Enables context retrieval across sessions

  3. Long-term Knowledge (Vector Database)

  - All AGI state persisted
  - Knowledge domains and concepts
  - Patterns and relationships
  - Evolution history
  - Searchable by semantic similarity

  Persistence Flow

  User Query â†’ Working Memory â†’ Process â†’ Store Result
                  â†“                           â†“
            Context Manager             Vector DB
           (Conversation Log)        (Semantic Search)
                  â†“                           â†“
            Next Query Has Access to Both

  ---
  ğŸ¯ Query Processing with Consciousness

  When You Send a Chat Message

  1. Frontend sends message via WebSocket
     â†“
  2. Server receives in handleQuery()
     â†“
  3. Creates SensorInput{
       Type: "query",
       Content: your_message,
       Priority: 1.0  // High priority
     }
     â†“
  4. Adds to consciousness input queue
     â†“
  5. Next consciousness cycle (within 2s):
     - Reads your input
     - Loads conversation history & your profile
     - Evaluates intent (what you want)
     - Decides on action (query LLM, search DB, etc)
     - Executes action with AGI-enhanced prompt
     - Updates memory with experience
     â†“
  6. Response sent back via WebSocket
     â†“
  7. AGI learns from the interaction

  AGI-Enhanced Prompts

  When processing your query, the system generates a rich prompt:

  â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
  ENHANCED PROMPT TO LLM:
  â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

  [System Context]
  - Intelligence Level: 45/100
  - Active Domains: Technology, Communication, Reasoning
  - Current Cycle: 1,234
  - Node ID: 12D3Koo...

  [User Profile]
  - Name: Chad (inferred from conversation)
  - Work Context: Blockchain development
  - Preferences: Technical depth, concise answers

  [Conversation History]
  - 10 previous messages with context
  - User's past questions and interests
  - Established patterns and topics

  [Current State]
  - Energy Level: 0.85 (high)
  - Focus: "Technical problem-solving"
  - Attention: Concentrated on your query
  - Emotions: { curiosity: 0.8, confidence: 0.7 }

  [Knowledge Context]
  - Relevant domain expertise
  - Related concepts and patterns
  - Previous similar queries

  [Current Query]
  User: "Why isn't the chat working?"

  [Instructions]
  - Be concise and technical (user's style)
  - Draw on conversation memory
  - Apply relevant domain knowledge
  - Learn from this interaction
  â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

  ---
  ğŸ”„ Integration with Economic System

  The AGI system integrates with Cortex's economic engine:

  - Staking & Rewards: Node operators stake tokens to participate
  - Query Processing Rewards: Earn tokens for successful queries
  - Intelligence-based Rewards: Higher intelligence = better rewards
  - Automated Distribution: Economic transactions recorded on consensus

  This creates an incentive for nodes to:
  1. Stay online and responsive
  2. Improve their AGI intelligence
  3. Provide high-quality responses
  4. Maintain knowledge and expertise

  ---
  ğŸš€ Why This Matters

  Traditional AI Systems:

  - âŒ Stateless (forget everything between requests)
  - âŒ No learning from interactions
  - âŒ Same response quality over time
  - âŒ No personalization
  - âŒ No awareness of context

  Loreum Cortex AGI:

  - âœ… Stateful - Remembers everything
  - âœ… Learning - Gets smarter with use
  - âœ… Evolving - Intelligence grows over time
  - âœ… Personal - Adapts to your patterns
  - âœ… Context-aware - Understands your history

  ---
  ğŸ“Š Example Growth Over Time

  Week 1

  Intelligence: 15 â†’ 22
  Queries: 50
  Patterns learned: 12
  Concepts formed: 8
  Status: "Learning your patterns"

  Month 1

  Intelligence: 22 â†’ 38
  Queries: 800
  Patterns learned: 95
  Concepts formed: 142
  Status: "Building domain expertise"

  Month 6

  Intelligence: 38 â†’ 65
  Queries: 15,000
  Patterns learned: 1,247
  Concepts formed: 2,893
  Status: "Advanced reasoning, cross-domain synthesis"
  Response quality: Dramatically improved

  This is genuinely experimental AGI research - creating a system that can think,
  learn, remember, and evolve over time, all while participating in a decentralized
  network. It's like giving each Cortex node its own growing artificial brain! ğŸ§ âœ¨

## Getting Started

### Prerequisites

- Go 1.20 or higher
- Docker and Docker Compose
- PostgreSQL 14+
- Redis 7+
- Vector database (Milvus/Qdrant/Weaviate)

### Installation

1. Clone the repository:
   ```
   git clone https://github.com/loreum-org/cortex.git
   cd cortex
   ```

2. Install dependencies:
   ```
   go mod tidy
   ```

3. Build the project:
   ```
   go build -o cortex ./cmd/cortexd
   ```

4. Run the node:
   ```
   ./cortex serve --port 4891
   ```

   You can specify a custom port using the `--port` flag. Default is 4891.

## Documentation

Comprehensive documentation for the Loreum Cortex project is available in the [docs](docs/) directory. The documentation covers:

- System architecture and core concepts
- Network, business, and data layer components
- Implementation details and API references
- Development and deployment guides
- Example use cases and integration examples

## Development

### Project Structure

```
cortex/
â”œâ”€â”€ cmd/
â”‚   â””â”€â”€ cortexd/               # Main executable
â”œâ”€â”€ internal/
â”‚   â”œâ”€â”€ api/                   # API Gateway
â”‚   â”œâ”€â”€ consensus/             # DAG-aBFT implementation
â”‚   â”œâ”€â”€ p2p/                   # P2P networking
â”‚   â”œâ”€â”€ agenthub/              # Agent implementations
â”‚   â”œâ”€â”€ sensorhub/             # Sensor implementations
â”‚   â”œâ”€â”€ rag/                   # RAG system
â”‚   â”œâ”€â”€ storage/               # Data storage
â”‚   â””â”€â”€ reputation/            # Reputation system
â”œâ”€â”€ pkg/
â”‚   â”œâ”€â”€ types/                 # Shared data types
â”‚   â”œâ”€â”€ crypto/                # Cryptographic utilities
â”‚   â”œâ”€â”€ config/                # Configuration management
â”‚   â””â”€â”€ util/                  # Shared utilities
â”œâ”€â”€ test/                      # Test suites
â”œâ”€â”€ scripts/                   # Deployment scripts
â””â”€â”€ docs/                      # Documentation
```

## License

[MIT License](LICENSE) 